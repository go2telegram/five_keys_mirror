# Система доверия агентов

Модуль `network.trust` хранит оценки доверия и репутации агентов/узлов сети. Для
каждого агента поддерживается таблица `trust_scores` с полями `agent_id`,
`score` и `decay_rate`. Значение `score` вычисляется на основе байесовского
подхода с экспоненциальным затуханием накопленного опыта.

## Алгоритм

* При каждом взаимодействии вызывается
  `network.trust.record_agent_interaction(agent_id, outcome, weight=1.0)`.
* Значение `outcome` находится в диапазоне `[0, 1]` и обозначает успех
  взаимодействия (1 — полностью успешно, 0 — провал).
* Наблюдения аккумулируются и подвергаются экспоненциальному затуханию. Это
  позволяет репутации динамически реагировать на свежие события.
* Для устойчивости используется априорное распределение Beta(1, 1).

Вспомогательные функции `record_success` и `record_failure` упрощают учёт
дихотомических исходов. Метрики системы (`avg_trust`, `trust_deviation`)
рассчитываются как среднее значение доверия по всем агентам и стандартное
отклонение распределения.

## Отчёты администратора

Команда `/trust` (доступна только администратору) выводит распределение доверия
и ключевые метрики. Формирование отчёта реализовано в `bot/admin_trust.py`.

## Отключение

Система доверия включена по умолчанию. Для быстрого отката установите переменную
окружения `ENABLE_TRUST_SYSTEM=false` или удалите модуль `network.trust`.
