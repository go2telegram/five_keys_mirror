# Эмоциональное моделирование

Модуль эмоционального контура помогает ассистенту подстраивать стиль
ответов под настроение собеседника. Система состоит из двух частей:

1. `nlp.sentiment.SentimentAnalyzer` — правило‑ориентированный анализатор
   тональности. Он поддерживает ключевые русскоязычные маркеры
   позитивных и негативных эмоций и учитывает усилители, смягчители и
   базовую обработку отрицаний.
2. `nlp.tone_adapter.ToneAdapter` — подбор профиля ответа. Для сильного
   негатива выбирается спокойный тон, для нейтральных сообщений — деловой,
   а для положительных — поддерживающий.

## Метрика `sentiment_balance`

Метрика отражает средний уровень тональности диалога. Значение лежит в
диапазоне от `-1` (преимущественно негатив) до `+1` (преимущественно
позитив). Можно агрегировать результаты `SentimentResult` за сессию и
использовать метрику в `/metrics`.

## Как отключить

Установите переменную окружения `ENABLE_EMOTIONAL_MODELING=false`, чтобы
вернуться к прежнему поведению без анализа тональности.
