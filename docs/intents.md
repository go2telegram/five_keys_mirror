# Intent routing

Система понимания намерений позволяет боту автоматически выбирать подходящий сценарий
по текстовому сообщению пользователя.

## Слоты

* `support` — запрос на консультацию или помощь оператора.
* `buy` — намерение купить продукт или оформить заказ.
* `learn` — желание изучить материалы и квизы.
* `report` — запрос на выгрузку персонального плана (PDF).
* `admin` — служебные запросы администратора.

## Как работает

* Классификатор `nlp.intents.IntentClassifier` использует ключевые слова и не
  требует внешних сервисов или LLM.
* Маршрутизатор `bot.intent_router` подключается в `app.main` и реагирует на
  свободный текст, когда пользователь не находится в активном FSM-состоянии.
* Каждое сообщение фиксируется в `IntentStatistics`, а команда `/intents`
  показывает топ распределения (только для администратора).

## Откат

Установите `ENABLE_INTENT_UNDERSTANDING=false` в переменных окружения, чтобы
вернуться к прежнему поведению бота.
